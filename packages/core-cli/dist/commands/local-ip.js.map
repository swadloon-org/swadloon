{"version":3,"sources":["../../src/commands/local-ip.ts"],"sourcesContent":["import os from 'os';\n\nimport { Config } from '@oclif/core';\n\nimport { BaseCommand } from '../base-command.js';\n\n/**\n * Get local IPv4 addresses\n */\nexport default class LocalIp extends BaseCommand {\n  static description = 'Print out local machine ip on the connected network';\n\n  static examples = [`$ nr local-ip`];\n\n  static args = [{ name: 'args' }];\n\n  static flags = {\n    // config: Flags.string({ description: '', default: '' }),\n  };\n\n  constructor(argv: string[], config: Config) {\n    super(argv, config, { name: 'local-ip' });\n  }\n\n  async run() {\n    const { args, flags } = await this.parse(LocalIp);\n\n    let localIp;\n    const ifaces = os.networkInterfaces();\n    const interfacesIds = Object.keys(ifaces);\n\n    this.log(`found: ${interfacesIds.length} interfaces`);\n\n    interfacesIds.forEach((ifname) => {\n      const networkInterfaces = ifaces[ifname];\n      networkInterfaces?.forEach((iface) => {\n        if (!/ipv4/gi.test(iface.family)) {\n          return;\n        }\n\n        this.log(`found ipv4: ${iface.address}`);\n      });\n    });\n  }\n}\n"],"names":["LocalIp","BaseCommand","description","examples","args","name","flags","constructor","argv","config","run","parse","localIp","ifaces","os","networkInterfaces","interfacesIds","Object","keys","log","length","forEach","ifname","iface","test","family","address"],"mappings":"AAAA;;;;;AAAe,IAAA,GAAI,kCAAJ,IAAI,EAAA;AAIS,IAAA,cAAoB,WAApB,oBAAoB,CAAA;AAKjC,MAAMA,OAAO,SAASC,cAAW,YAAA;IAC9C,OAAOC,WAAW,GAAG,qDAAqD,CAAC;IAE3E,OAAOC,QAAQ,GAAG;QAAC,CAAC,aAAa,CAAC;KAAC,CAAC;IAEpC,OAAOC,IAAI,GAAG;QAAC;YAAEC,IAAI,EAAE,MAAM;SAAE;KAAC,CAAC;IAEjC,OAAOC,KAAK,GAAG;KAEd,CAAC;IAEFC,YAAYC,IAAc,EAAEC,MAAc,CAAE;QAC1C,KAAK,CAACD,IAAI,EAAEC,MAAM,EAAE;YAAEJ,IAAI,EAAE,UAAU;SAAE,CAAC,CAAC;KAC3C;IAED,MAAMK,GAAG,GAAG;QACV,MAAM,EAAEN,IAAI,CAAA,EAAEE,KAAK,CAAA,EAAE,GAAG,MAAM,IAAI,CAACK,KAAK,CAACX,OAAO,CAAC,AAAC;QAElD,IAAIY,OAAO,AAAC;QACZ,MAAMC,MAAM,GAAGC,GAAE,QAAA,CAACC,iBAAiB,EAAE,AAAC;QACtC,MAAMC,aAAa,GAAGC,MAAM,CAACC,IAAI,CAACL,MAAM,CAAC,AAAC;QAE1C,IAAI,CAACM,GAAG,CAAC,CAAC,OAAO,EAAEH,aAAa,CAACI,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;QAEtDJ,aAAa,CAACK,OAAO,CAAC,CAACC,MAAM,GAAK;YAChC,MAAMP,iBAAiB,GAAGF,MAAM,CAACS,MAAM,CAAC,AAAC;YACzCP,iBAAiB,aAAjBA,iBAAiB,WAAS,GAA1BA,KAAAA,CAA0B,GAA1BA,iBAAiB,CAAEM,OAAO,CAAC,CAACE,KAAK,GAAK;gBACpC,IAAI,CAAC,SAASC,IAAI,CAACD,KAAK,CAACE,MAAM,CAAC,EAAE;oBAChC,OAAO;iBACR;gBAED,IAAI,CAACN,GAAG,CAAC,CAAC,YAAY,EAAEI,KAAK,CAACG,OAAO,CAAC,CAAC,CAAC,CAAC;aAC1C,CAAC,CAAC;SACJ,CAAC,CAAC;KACJ;CACF;kBAnCoB1B,OAAO"}